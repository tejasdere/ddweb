<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User-Specific Datadog Graphs</title>
</head>
<body>
    <div id="graphs-container"></div>
    <div id="monitors"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const graphsContainer = document.getElementById('graphs-container');
            var queryParams = new URLSearchParams(window.location.search);
            var username = queryParams.get('username');
            
            // Implement user authentication logic here

            // Construct embed URLs with specific environment filter
            const graphUrls = [
                `https://app.datadoghq.com/graph/embed?token=3ca3c265d9accc297493b0f376381e0f1c25be06353552a753d21b3d849f041d&height=300&width=600&legend=true&var=env:${username}`,
                `https://app.datadoghq.com/graph/embed?token=ad6ecc546cdeabb8d4436d5a8c2e81b3068a76f6537fd7c9999c7fd9bcd7df29&height=300&width=600&legend=true&var=env:${username}`
            ];

            // Inject embed code into container
            graphUrls.forEach(url => {
                const iframe = document.createElement('iframe');
                iframe.src = url;
                iframe.width = '600';
                iframe.height = '300';
                graphsContainer.appendChild(iframe);
            });
         });
    </script>
</body>
</html>
